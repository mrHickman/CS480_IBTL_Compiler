'''
Created on Jan 25, 2014

@author: mr_hickman

Description:
    Facilitates file input massaging for lexical analyzer, by removing comments and duplicate spaces(' ' and '/t').
    Notes: leaves '/n' characters for line position error reporting, and converts '/t' to ' '. 

'''
class Scanner:
    def __init__(self, srcFilePath):
        self.srcFilePath = srcFilePath
        self.file = open(self.srcFilePath, 'r')
        self.isMultiLineComment = False
        self.current = ''
        self.peak = self.file.read(1)
                
    def getNextCharacter(self):
        self.current = self.peak
        self.peak = self.file.read(1)
        if self.current == '/' and self.peak == '/' :
            while self.current != '/n' :
                print self.current
                self.current = self.peak
                self.peak = self.file.read(1)
        if (self.current == '/' and self.peak == '*' ) or self.isMultiLineComment :
            
            if self.current == '*' and self.peak == '/' : 
                self.isMultiLineComment = False
            else :
                self.isMultiLineComment = True
                
            while self.current != '/n' and self.isMultiLineComment :
                self.current = self.peak
                self.peak = self.file.read(1)
        if (self.current == ' ' or self.current == '/t') and (self.peak == ' ' or self.peak == '/t') :
            self.current = ' '
            while self.peak == ' ' or self.peak == '/t' :
                self.peak = self.file.read(1)
        return self.current
             
